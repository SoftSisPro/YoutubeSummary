I'm going to give you the full transcript of a YouTube video. Please read it and write a summary in Spanish that is clear, well-structured, and easy to understand for someone who hasn't watched the video. It doesn't need to be super short; instead, focus on fully developing the main ideas, key points, and any final conclusions or takeaways. If possible, organize the summary into thematic sections or parts of the content, so it's easier to follow.

Full transcript:
¿Te ha pasado que tienes flujos en producción fallan y ni te enteras hasta que un cliente enojado te llama? Y ya que estamos en una herramienta de automatización, vamos a automatizar que te envíen notificaciones cuando cualquier flujo falle. Así te enterarás al instante y podrás tomar manos a la obra. Te voy a mostrar tres formas para gestionar estos problemas y además lo vamos a hacer muy sencillo para que nos puedas seguir paso a paso. Y claro, esta plantilla que vamos a ver el día de hoy te la voy a dejar en el link de la descripción para que la puedas usar. ¿Cuál es el plan? Primero te voy a mostrar el flujo que vamos a estar trabajando. Lo más importante es que vamos a separar entre dos tipos de problemas. Unos a aquellos en los cuales tú como desarrollador del flujo te tienes que enterar. Y el segundo tipo de problema es aquellos en donde tú como desarrollador no eres el que tienes que solucionar el problema, sino más bien es el mismo usuario el que debe de solucionar este problema. Y despreocúpate, vamos a ver escenarios para que esto lo puedas ver muy claramente. Y sin más por el momento, vamos a ello. Este es el flujo con el que vamos a estar trabajando. Es un agente que te ayuda a promocionar productos. Como vemos, tiene una herramienta que tiene Inventory Management, que es una hoja de Excel donde tiene todos los productos disponibles. También tiene una herramienta SE Photos que de acuerdo al SKU va a mandar la foto que esté guardada en una URL. Vamos a ver super rápido de la gente tiene estas herramientas como habíamos dicho y simplemente algunas instrucciones. Vamos a ver la herramienta. Ahora vamos a hacer una pequeña prueba para ver cómo funciona. Entonces si aquí yo le pregunto, "Hola, ¿qué productos vendes?" De este lado de la derecha tenemos el inventario y nos va a devolver cuáles son los productos que vende. Muy bien, aquí ya nos los ha dado. ¿Cuál es el problema que queremos resolver? es que si por alguna razón alguno de los nodos falla, no se logra conectar a internet, ¿no? O alguna configuración está mal, entonces nos va a dar un error y ni siquiera nos vamos a dar cuenta de esto. Para esto vamos a hacer una prueba. Imagínate, le d lo borramos aquí, le damos guardar y volvemos a ejecutar el flujo. Le decimos, "Hola." Aquí vemos que ya se ejecutó, pero del lado izquierdo no nos ha contestado nada y nos ha dado un error. Si esto sucede en producción, ni nos habremos dado cuenta. Ahora, ¿cómo detectamos este tipo de problemas? Para eso lo que vamos a hacer es vamos a crear un nuevo flujo de trabajo, le decimos create, le vamos a llamar error. Aquí vamos a darle clic en más y le vamos a dar error trigger y le vamos a dar guardar. Para eso vamos a regresar aquí a agente de ventas y vamos a darle clic en los tres puntitos. Le vamos a decir settings y vamos a buscar el flujo que acabamos de crear. Le decimos guardar y vamos a ejecutar el mismo flujo para que veamos qué es lo que nos manda. Muy bien, le decimos hola y vamos a ver que aquí en las ejecuciones nos va a llegar un mensaje con la información del flujo. Estando aquí, lo que vamos a hacer es copiar el editor. Y con esto ya hemos traído la información desde la ejecución para tenerla disponible. Vamos simplemente a entrar para verlo. Y aquí tenemos la información. Aquí tenemos tres cosas super importantes. Por un lado, la información del nodo que está disparando el error, que viene aquí en node. También tenemos el mensaje de error y también tenemos el workflow que está ejecutando ese error. Con esto ya tenemos información suficiente para reportar el error. Vamos a salir de aquí y vamos a crear un campo set para obtener todas las variables necesarias. Como este primer mensaje lo vamos a mandar por correo, vamos a crear un campo que se llame correo y aquí le ponemos el correo. Vamos a agregar otro campo que diga mensaje y vamos a buscar el mensaje de error. Está aquí en message lo arrastramos. Después agregamos otro que se llame nodo. Lo buscamos aquí en nodo lo buscamos se llama name. Aquí está name lo arrastramos y por último agregamos un campo que se llame flujo y lo arrastramos. Con eso ya tenemos toda la información. Ahora sí vamos a procesarla. Vamos a agregar un campo que se llame de Gmail. Le decimos, le vamos a llamar create draft. En el subject del correo le vamos a decir error. Aquí en el message vamos a cambiar a expresión. Vamos a colocar esta información. Pero para poder arrastrar la información, necesitamos ejecutar el paso anterior. Salimos aquí, lo ejecutamos, entramos de nuevo y aquí ya tenemos la información desde edits. Entonces, lo que hacemos es arrastrarlo. El mensaje fue este, después el nodo fue este y el flujo fue este. Y con eso ya tenemos toda la información con el que se va a crear nuestro correo. Ahora, como aparte de mandar el correo, también queremos hacer un log de toda la información o de todos los errores que nos están llegando, aquí ya tenemos una hoja de Excel con la información que queremos guardar. Entonces esta información vamos a hacer la configuración para que nos llegue. Entonces para esto arrastramos desde el nodo, le ponemos sheet y le decimos a penad. Buscamos el documento y la hoja y aquí vamos a poner fecha, flujo, nodo y error. Muy bien. Entonces aquí vamos a cambiar expresión. el doble brackets now y le vamos a poner format. Aquí hay diferentes alternativas. Aquí puedes ver algunos ejemplos. Con esto nos dice la hora y minuto. Vamos a arrastrar los demás datos. flujo, el nodo y el mensaje. En tipo vamos a llamarle sistema, que son los tipos de errores que tú deberías estar corrigiendo. Y con esto tenemos el primer flujo terminado. Vamos a probarlo. Aquí le decimos hola y veamos la ejecución. Y aquí ya nos ha creado el correo y también ha agregado. Vamos a verlo. Aquí ya tenemos la hoja de Excel donde nos ha registrado el movimiento y aquí tenemos el draft con la información que nos ha proporcionado el error. Entonces el primer flujo ya está terminado. Para el siguiente tipo de error vamos a utilizar un subflujo dentro del agente para que veamos de qué se trata. Este flujo lo que hace es enviar fotos de un producto en concreto. Entonces, por ejemplo, ¿me das la foto del mouse? Vamos a ver cómo funciona este flujo. Muy bien, dentro de nuestro agente tenemos una herramienta que se llama Sen Photo. Vamos a verla. Dentro de la herramienta mandamos el SKU. Esto nos sirve para identificar el SKU del cual queremos mandar la foto. También mandamos el chat ID para poder mandar esa foto hacia Telegram. Este es nuestro subflujo, el cual manda la foto. Muy bien, vamos a analizarlo superrápido. Este lo que hace es recibir el SKU y después lo busca dentro de nuestro archivo para obtener solamente ese registro. Después, si sí lo obtiene, va a ser una validación. Va a decir, existe ese registro. Si ese existe va a ir por arriba. Si no existe, va a mandar un mensaje de error hacia la inteligencia artificial. Después de eso va a verificar si dentro de ese mismo registro existe el dato de imagen. Entonces si no está vacío se va a ir por arriba a intentar mandarlo y si no va a decir no tenemos imagen para este cabo. Después va a descargar el archivo. Aquí lo único que le pasamos es la URL de la imagen. Una vez que ya tengamos el archivo descargado, vamos a verificar que sea un tipo de archivo válido. Para eso, simplemente hacemos la verificación, decimos si es un JPG o un PNG. Entonces mandamos el archivo y le respondemos al inteligencia artificial. Todo okay, foto enviada. Pero si no es un archivo correcto, no es un archivo adecuado, entonces le decimos a la inteligencia artificial, "No tenemos foto." La mayoría de los fujos son de esta forma. Sin embargo, lo que podemos nosotros hacer es notificar cada uno de estos errores hacia un equipo operativo para que los corrija. Existe una forma, hay un nodo que dice error que se llama stop and error. En este caso nosotros podríamos utilizar este nodo en lugar de este otro nodo. Simplemente copiamos esta información que tenemos, lo colocamos aquí y unimos este en lugar del otro. Y con esto tendríamos el envío hacia el mismo nodo que estamos trabajando. Y no se te olvide que tienes que mandar a hacer la misma configuración de error. Sin embargo, yo no utilizo este nodo. Tiene principalmente dos dificultades. Por un lado, se complica hacer la distinción de un error operativo que de un error de sistemas. Sí se pudiera llegar a hacer esa distinción utilizando en vez de error message error object. Sin embargo, hay otro problema por el cual no lo utilizo. La segunda problemática es que si yo intento utilizar este mismo nodo aquí arriba, vamos a intentar usarlo para que te explique de qué se trata. Si yo utilizo este nodo aquí, observa que no puedo contestarle a la inteligencia artificial lo que yo quiera. Entonces, vamos a suponer que yo diga, quiero mandarle al equipo operativo que el tipo de error es porque no tenemos un archivo correcto, no es JPG o no es PNG. Entonces, si yo mando este error hacia la inteligencia artificial, la inteligencia artificial va a tender a contestar de esta forma. Entonces tú no quieres eso para poder hacer eso. Entonces tal vez lo que pudiéramos hacer es settings un error y le decimos continue using error out. Salimos aquí y si lo observas ya nos permite enlazar, no lo enlazaríamos. Sin embargo, esta configuración no desata el envío del error. Entonces en realidad es como si no tuvieras nada colocado aquí. La combinación de estos dos factores es por lo cual yo no utilizo este nodo. Ahora te voy a enseñar cómo yo lo hago. La forma en la que lo hago es por medio de un flow y le digo execute sub workflow. Le digo ejecúalo. Vamos a escoger el mismo que ya teníamos, error. Ahora, aquí no nos da los campos que necesitamos enviar. Entonces, vamos a configurarlo y después regresamos aquí. Aquí lo que vamos a darle clic en más. Vamos a añadir otro trigger y le vamos a decir, "Ejecútalo por otro flujo." Aquí vamos a agregar un nuevo campo y vamos a colocar los mismos campos que ya teníamos. Vamos a decir flujo, vamos a decirle nodo, vamos a decirle message y vamos a decirle fecha. Lo arrastramos y lo guardamos. Ahora sí vamos a regresar para hacer la configuración. Entonces aquí hacemos la configuración. Para hacer configuración del flujo, le damos expresión y le decimos signo de dólar. Le decimos workflow.name. Después le decimos el nodo. Ese sí lo vamos a tener que poner a mano. Nodo if. Le decimos nodo if. SK. Y después el message vamos a decirle no hay SK. Le decimos la fecha, la cambiamos a expresión, decimos signo de dólar. Perfecto. Y con esto ya podemos enviar la información. Perfecto. Entonces vamos a copiar el siguiente. Hacemos exactamente lo mismo y quitamos este. Lo mandamos. Lo unimos. También unimos este. Y en este caso vamos a decirle no image. Bien. Y aquí le decimos imagen. Perfecto. Entonces, ya tenemos el segundo y vamos a hacer exactamente lo mismo con el tercero. Los unimos y en este caso le vamos a decir tipo de archivo incorrecto. Y observemos que aquí ya hacemos el registro de log y también mandamos hacia la inteligencia artificial. No hay foto. Aquí me gustaría decirte un truco que me ha funcionado bastante bien y es que tú le puedes dar esta instrucción, pero también le puedes dar instrucciones adicionales como respuesta y sigue las instrucciones. Tú le puedes decir, después de esto e manda llamar este flujo, manda llamar algo y tiende a seguirte lo que tú le digas. Por ejemplo, tú le podrías decir, "No hay foto. Dile que ya lo reportamos." y va a contestar. Eso entonces es muy interesante para poder continuar flujos. Terminamos la configuración del flujo, lo ejecutamos y ahora sí vamos del otro lado. Venimos aquí, vamos a ejecuciones y ya nos ha dado que ha ejecutado el flujo. Muy bien, lo copiamos hacia el editor y aquí ya tenemos la información, como en este caso vamos a mandarlo por otro medio. Entonces aquí le vamos a poner el flujo set. Vamos a agregar el teléfono. Vamos a agregar un nodo de WhatsApp. Le decimos enviar mensaje. Ejecutamos el nodo para tener el teléfono del otro lado. Muy bien. Y entramos al nodo. Aquí ya tendríamos el teléfono, lo arrastraríamos al teléfono y en este caso mandaríamos el flujo diciendo todos estos datos. Para eso cambiamos expresión y vamos a mandarlo igual que el correo, simplemente para que sea más sencillo. Aquí se fue una O. Vamos a poner Houston y le decimos Houston. tenemos un problema. Lo mandaríamos desde aquí. Quitamos esta parte inicial y llamaríamos nodo. Quitamos esto y después el error fue hacemos message y lo quitamos. Y con eso ya tendríamos la información necesaria. Muy bien. Por último paso, vamos a agregar la misma información que tenemos a nuestro log. En este caso, la única diferencia es que en lugar de un error de tipo de sistema, le vamos a poner un error operacional. Y en este caso vamos a cambiar estos del flujo y también decimos flujo, lo cambiamos también el nodo y en este caso le vamos a llamar message. Perfecto. Y con eso tendríamos todo. Y con eso hemos terminado nuestra segunda forma de registrar errores. Observemos que hemos hecho una clara distinción entre errores que son hacia tu persona como desarrollador y otro tipo de errores que son hacia más una área operativa. Entonces aquí tú podrías cambiar, podría ser Slack, podrías ser Telegram, podría ser cualquier otro medio y tú podrías el teléfono al cual quieres mandar esos errores, ya sea para uno o para otro caso. Veamos la tercera forma de gestionar los errores. Para esto vamos a ver el mismo error que habíamos hecho antes de de no conectar el agente. Muy bien, en este caso nos da error, pero lo que observamos es que no nos contestó para nada el gente. ¿Cuál es el problema aquí? En que pues en realidad podría estar suponiendo que la gente está contestando, pero está detenido y no tenemos ninguna forma de que el usuario se entere. Entonces, en este caso, lo que vamos a hacer es entrar a settings y le vamos a decir on error. En lugar de que detenga el flujo, vamos a decir continue using error output. Observemos que nos da un error adicional. En este caso podemos mandar una opción de Telegram adicional, pero en lugar de un flujo que venga directo desde output, le vamos a decir tuve un problema técnico al responder. Y de esta forma ya podemos gestionar los errores desde una tercera forma. Me gusta cómo vamos progresando en la generación de todos los flujos, haciéndolos cada vez más robustos y más poderosos para ti, para tus clientes, y para que veas un valor real en esto que tiene que ver con la inteligencia artificial. En estos flujos los vas a tener para tu descarga en la liga y suscríbete para que no te pierdas nada del contenido que tenemos preparado para ti. [Música]